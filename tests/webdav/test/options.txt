*** Settings ***

Resource   lib/webdav.txt
Resource   lib/clientSRM.txt
Resource   lib/credentials.txt

*** Test Cases ***

######### ANONYMOUS ##########

WebDAV OPTIONS as anonymous
  [Tags]  webdav  options  anonymous
  ${url}  Build webdav unsecure URL  ${ANONYMOUS_SA}
  ${output}  WebDAV anonymous OPTIONS  ${url}
  Log  ${output}
  Should Contain  ${output}  200 OK
  Should Contain  ${output}  DAV: 1

####### VOMS PROXY #########

WebDAV OPTIONS with VOMS proxy
  [Tags]  webdav  options  vomsproxy
  ${url}  Build webdav secure URL  ${VOMSPROXY_SA}
  ${output}  WebDAV voms proxy OPTIONS  ${url}
  Log  ${output}
  Should Contain  ${output}  200 OK
  Should Contain  ${output}  DAV: 1

######### PLAIN PROXY ##########

WebDAV OPTIONS with plain proxy
  [Tags]  webdav  options  plainproxy
  ${url}  Build webdav secure URL  ${PLAINPROXY_SA}
  ${output}  WebDAV plain proxy OPTIONS  ${url}
  Log  ${output}
  Should Contain  ${output}  200 OK
  Should Contain  ${output}  DAV: 1

####### NESTED #########

WebDAV OPTIONS on nested SA
  [Tags]  webdav  options  nested
  ${url}  Build webdav secure URL  ${NESTED_SA}
  ${output}  WebDAV voms proxy OPTIONS  ${url}
  Log  ${output}
  Should Contain  ${output}  200 OK
  Should Contain  ${output}  DAV: 1

####### ALIASED #########

WebDAV OPTIONS on aliased SA
  [Tags]  webdav  options  aliased
  ${url}  Build webdav secure URL  ${ALIASED_SA}
  ${output}  WebDAV voms proxy OPTIONS  ${url}
  Log  ${output}
  Should Contain  ${output}  200 OK
  Should Contain  ${output}  DAV: 1