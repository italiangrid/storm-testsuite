#!/usr/bin/python

__author__ = 'Elisabetta Ronchieri'

import sys
import getopt
from tstorm.utils import map_tests_ids
from tstorm.utils import settings

def usage():
    print "Usage: tstorm-tests-ids"

if __name__ == '__main__':
    try:
        opts, args = getopt.getopt(sys.argv[1:], "h", ["help"])
    except getopt.GetoptError, err:
        print str(err)
        usage()
        sys.exit(2)

    for o, v in opts:
        if o in ("-h", "--help"):
            usage()
            sys.exit()

    if not settings.configuration_file_exists(file_name='map_tests_ids.json'):
        map_tests_ids.MapTestsIds().create_map_file()
    else:
        map_tests_ids.MapTestsIds().modify_map_file()
